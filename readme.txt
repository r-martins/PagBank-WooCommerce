=== PagSeguro / PagBank Connect ===
Contributors: martins56
Tags: pagseguro, pagbank, pix, cart√£o de cr√©dito, pagamento
Donate link: https://github.com/sponsors/r-martins
Requires at least: 4.0
Tested up to: 6.5
Requires PHP: 7.4
Stable tag: 4.11.2
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-3.0.html
PIX, Cart√£o de Cr√©dito, Boleto, Recorr√™ncia + Envio F√°cil e com taxas ainda menores no PagSeguro.
Autentica√ß√£o 3D: menos chargeback e mais aprova√ß√µes.

== Description ==

**Aceite PagSeguro e PagBank (Pix, Cart√£o de Cr√©dito, Boleto) em sua loja WooCommerce.**

Esta √© a **forma mais f√°cil de integrar sua loja com PagBank (PagSeguro)**.
Ao instalar e configurar nossa integra√ß√£o, voc√™ pode aceitar Pix, Boleto e Cart√£o de Cr√©dito com o meio de pagamento mais confiado pelos brasileiros.

https://www.youtube.com/watch?v=wnzA0KQZCQs

Criado por Ricardo Martins (**Parceiro oficial PagBank/PagSeguro desde 2015**), esta √© a 4¬™ gera√ß√£o das integra√ß√µes PagSeguro, disponibilizadas desde 2014 no Magento, e desde 2019 no WooCommerce. Mais de 20 mil lojas atendidas e mais de 200 milh√µes de reais transacionados em nossas integra√ß√µes.

Al√©m disso, voc√™ tamb√©m pode aceitar pagamentos recorrentes e criar clubes de assinatura sem depender de plugins de terceiros.

https://www.youtube.com/watch?v=FOPwBTRryNM


**Problemas com aprova√ß√£o de pagamentos e chargebacks em transa√ß√µes com cart√£o de cr√©dito?**

Nossa integra√ß√£o suporta [autentica√ß√£o 3D Secure](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/22375922278157-Autentica%C3%A7%C3%A3o-3DS-Sua-prote%C3%A7%C3%A3o-contra-Chargeback), que reduz drasticamente seus custos com chargebacks, e aumenta significativamente a taxa de aprova√ß√£o.

Tudo pra voc√™ vender mais com PagBank(PagSeguro) sem sequer precisar se preocupar em contratar um servi√ßo de antifraude.


* Termos de uso e softwares terceiros
Ao instalar o plugin PagBank Connect, voc√™ concorda com as [Regras de uso do PagBank](https://pagseguro.uol.com.br/sobre/contrato-de-servicos), seu [Contrato de Servi√ßo](https://pagseguro.uol.com.br/sobre/contrato-de-servicos), [Termos de Seguran√ßa, Privacidade](https://pagseguro.uol.com.br/sobre/seguranca-e-privacidade) e [Compartilhamento](https://pagseguro.uol.com.br/sobre/regras-de-compartilhamento), bem como os [Termos de uso e Pol√≠tica de Privacidade](https://pagseguro.ricardomartins.net.br/terms.html) do desenvolvedor.

== Features ==
* Suporte a PIX, Cart√£o de Cr√©dito e Boleto
* Suporte a [recorr√™ncia (assinaturas)](https://pagsegurotransparente.zendesk.com/hc/pt-br/sections/20410120690829-Recorr%C3%AAncia-e-Clube-de-Assinatura-com-WooCommerce), sem depender de outros plugins
* Integra√ß√£o com [Envio F√°cil](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/19944920673805-Envio-F%C3%A1cil-com-WooCommerce) (economize at√© 70% no frete com Correios e Jadlog) sem precisar de contrato
* Suporte a [autentica√ß√£o 3D Secure](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/22375922278157-Autentica%C3%A7%C3%A3o-3DS-Sua-prote%C3%A7%C3%A3o-contra-Chargeback) (reduza chargebacks e aumente suas aprova√ß√µes)
* Diversas [op√ß√µes de parcelamento](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/19945359660173-Op%C3%A7%C3%B5es-de-Parcelamento)
* Suporte a [descontos no boleto e pix](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/19945430928909-Oferecer-Desconto-Pix-e-Boleto)
* Permite definir validade de boletos e c√≥digo PIX
* Atuali√ß√µes autom√°ticas de status de pedidos
* Configure como quer exibir o [nome da loja na fatura do cart√£o de cr√©dito](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/19945038495629-Identificador-na-fatura)
* Diversas [op√ß√µes de configura√ß√£o de endere√ßo](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/20835022998029-Configura%C3%A7%C3%B5es-de-Endere%C3%A7o-de-Entrega)
* Suporte a [High-Performance Order Storage (HPOS)](https://woo.com/document/high-performance-order-storage/): Este plugin √© otimizado para ambientes com High-Performance Order Storage, garantindo um manuseio r√°pido e eficiente de seus pedidos WooCommerce.
* Exibi√ß√£o de [informa√ß√µes de parcelas na p√°gina de produto em 3 formatos diferentes](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/26223028355597-Exibir-informa%C3%A7%C3%B5es-de-parcelamento-na-p%C3%A1gina-de-produto)
* Permite exibir os meios de pagamento de [forma individual ou agrupada](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/26581505001357-Separar-meios-de-pagamento) (melhor experi√™ncia)


== Installation ==
=== Instala√ß√£o autom√°tica via painel ===
* Navegue at√© Plugins > Adicionar Novo e procure por "PagBank Ricardo Martins"
* Clique no bot√£o para instalar e ative o plugin
* Repita o processo buscando e instalando o plugin [Brazilian Market on WooCommerce](https://br.wordpress.org/plugins/woocommerce-extra-checkout-fields-for-brazil/) a fim de habilitar campos adicionais de endere√ßo e CPF, que s√£o obrigat√≥rios no PagBank.

=== WP-CLI ===
Voc√™ pode instalar o plugin usando o [WP-CLI](https://wp-cli.org/). 

* Basta rodar o comando `wp plugin install pagbank-connect --activate`. Adicione `--allow-root` se estiver rodando o comando como root.
* Repita o processo para instalar o plugin [Brazilian Market on WooCommerce](https://br.wordpress.org/plugins/woocommerce-extra-checkout-fields-for-brazil/) com o comando `wp plugin install woocommerce-extra-checkout-fields-for-brazil --activate` caso ainda n√£o tenha ele instalado.

=== Instala√ß√£o manual ===
* Baixe o [arquivo zip](https://codeload.github.com/r-martins/PagBank-WooCommerce/zip/refs/heads/master) e descompacte ele em sua m√°quina
* Fa√ßa upload dos arquivos na pasta /wp-content/plugins/pagbank-connect, usando seu FTP
* Navegue at√© Plugins > Plugins instalados, e ative o plugin PagBank Connect
* Instale o plugin [Brazilian Market on WooCommerce](https://br.wordpress.org/plugins/woocommerce-extra-checkout-fields-for-brazil/) a fim de habilitar campos adicionais de endere√ßo e CPF, que s√£o obrigat√≥rios no PagBank.

=== A gente instala pra voc√™ üôÄ ===
Se voc√™ preferir, podemos instalar e configurar o plugin para voc√™ sem nenhum custo.

[Saiba mais](https://pagseguro.ricardomartins.net.br/woocommerce/agenteinstala.html). 

=== Configura√ß√£o ===
* Ative o meio de pagamento navegando at√© WooCommerce > Configura√ß√µes > Pagamentos, e ativando o PagBank Connect
* Clique no PagBank Connect para acessar as configura√ß√µes do m√≥dulo
* Clique em "Obter Connect Key". Voc√™ ser√° levado para nosso site, onde poder√° escolher o modelo de recebimento (14 ou 30 dias) e ent√£o autorizar nossa aplica√ß√£o.
* Ao clicar no modelo de recebimento desejado, voc√™ ser√° levado(a) para o site do PagBank, onde dever√° se logar com sua conta e autorizar nossa aplica√ß√£o.
* Em seguida, ser√° levado(a) de volta para nosso site, onde dever√° preencher as informa√ß√µes do respons√°vel t√©cnico por sua loja.
* Feito isso, sua *Connect Key* ser√° exibida e enviada para o e-mail informado. Use ela nas configura√ß√µes da sua loja.
* Salve as configura√ß√µes e sua loja est√° pronta para vender.
* Se desejar, configure [op√ß√µes de parcelamento](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/19945359660173-Op%C3%A7%C3%B5es-de-Parcelamento), e validade do boleto e c√≥digo pix de acordo com suas necessidades.

== Frequently Asked Questions ==
= PagSeguro ou PagBank? =

Em 2023 o PagBank e o PagSeguro se tornaram uma √∫nica empresa: PagBank.

E n√£o se preocupe, os servi√ßos que voc√™ usa n√£o ser√£o afetados.

= Quais os requisitos para usar esta integra√ß√£o? =

* Ter WooCommerce 4.0 ou superior
* PHP 7.4 ou superior
* Ter uma conta Vendedor ou Empresarial no PagSeguro/PagBank
* [Autorizar nossa integra√ß√£o](https://pagseguro.ricardomartins.net.br/connect/autorizar.html) em sua conta PagBank.
* Ter instalado o plugin [Brazilian Market on WooCommerce](https://br.wordpress.org/plugins/woocommerce-extra-checkout-fields-for-brazil/) a fim de habilitar campos adicionais de endere√ßo e CPF, que s√£o obrigat√≥rios no PagBank.

= Como funcionam os descontos nas taxas? =

Ao usar nossas integra√ß√µes no modelo de recebimento em 14 ou 30 dias, ao inv√©s de pagar 4,99% ou 3,99%, voc√™ pagar√° cerca de 0,60% a menos e estar√° isento da taxa de R$0,40 por transa√ß√£o.

Taxas menores s√£o aplicadas para transa√ß√µes parceladas, PIX e Boleto. PIX e Boleto tamb√©m possuem prazos menores de recebimento.

Consulte mais sobre elas no [nosso site](https://pagseguro.ricardomartins.net.br/connect/autorizar.html).

= Eu tenho uma taxa ou condi√ß√£o negociada menor que estas. O que fa√ßo? =

Ao usar nossa integra√ß√£o, nossas taxas e condi√ß√µes ser√£o aplicadas ao inv√©s das suas. Isto √©, nas transa√ß√µes realizadas com nosso plugin.

√â importante notar que taxas negociadas no mundo f√≠sico (moderninhas) n√£o s√£o aplicadas no mundo online.

Se mesmo assim voc√™ possuir uma taxa ou condi√ß√£o melhor, e se compromete a faturar mais de R$20 mil / m√™s (pedidos aprovados usando nossa integra√ß√£o), podemos incluir sua loja em uma aplica√ß√£o especial.

Ao [autorizar sua conta](https://pagseguro.ricardomartins.net.br/connect/autorizar.html), escolha a op√ß√£o "Suas condi√ß√µes e taxas".

Sua Connect key ser√° gerada respeitando as taxas e condi√ß√µes negociadas que voc√™ tem com o PagSeguro/PagBank.

= Tenho outra pergunta n√£o listada aqui =

Consulte nossa [Central de ajuda](https://pagsegurotransparente.zendesk.com/hc/pt-br/) e [entre em contato](https://pagsegurotransparente.zendesk.com/hc/pt-br/requests/new) conosco se n√£o encontrar sua d√∫vida respondida por l√°.

A maioria das d√∫vidas est√£o respondidas l√°. As outras s√£o respondidas em at√© 2 dias ap√≥s entrar em contato.

= O plugin atualiza os status automaticamente? =

Sim. 

E quando h√° uma transa√ß√£o no PagBank, um link para ela √© exibida na p√°gina do pedido. Assim voc√™ pode confirmar novamente o status do mesmo.

Caso utilize Cloudflare ou CDN, certifique-se de [configur√°-lo corretamente](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/115002699823-Usu%C3%A1rios-Cloudflare-e-CDN-s) e liberar os IPs do PagSeguro para evitar bloqueios nas notifica√ß√µes.

= Posso testar usando a Sandbox? =

Sim. Basta clicar no bot√£o 'Obter Connect Key para Testes' localizado nas configura√ß√µes do plugin, seguir as instru√ß√µes, e informar sua Connect Key de testes no campo indicado.

Um link para mais detalhes sobre como utilizar a Sandbox est√° dispon√≠vel na p√°gina de configura√ß√µes do plugin.

Voc√™ tamb√©m pode testar com dados reais e realizar o estorno. As tarifas e taxas s√£o reembolsadas, n√£o incidindo nenhum custo.

= Este √© um plugin oficial? =

N√£o. Este √© um plugin desenvolvido por Ricardo Martins, assim como outros para Magento e WooCommerce desenvolvidos no passado.

Apesar da parceria entre o desenvolvedor e o PagBank que concede descontos e benef√≠cios, este N√ÉO √© um produto oficial.

PagSeguro e PagBank s√£o marcas do UOL.


= O plugin √© compat√≠vel com o WooCommerce Subscriptions? =

Voc√™ n√£o precisa do plugin WooCommerce Subscriptions ou nenhum outro para aceitar [pagamentos recorrentes com nossa integra√ß√£o](https://pagsegurotransparente.zendesk.com/hc/pt-br/sections/20410120690829-Recorr%C3%AAncia-e-Clube-de-Assinatura-com-WooCommerce).


= Posso modificar e comercializar este plugin? =

O plugin √© licenciado sob GPL v3. Voc√™ pode modificar e distribuir, contanto que suas melhorias e corre√ß√µes sejam contribuidas de volta com o projeto.

Voc√™ deve fazer isso atrav√©s de Pull Requests ao [reposit√≥rio oficial no github](https://github.com/r-martins/PagBank-WooCommerce).

== Changelog ==
= 4.11.2 =
* Corre√ß√£o: em alguns cen√°rios, o campo de CPF, n√∫mero do endere√ßo e bairro n√£o eram enviados corretamente ocasionando falha no fechamento do pedido (especialmente em Boletos).

= 4.11.1 = 
* Corre√ß√£o: nosso validador de chaves pix adicionado na vers√£o anterior apontava para pedidos n√£o-pix
* Corre√ß√£o: a mensagem de valida√ß√£o do pix n√£o era ignorada em alguns cen√°rios ap√≥s dispens√°-la

= 4.11.0 =
* Melhoria: agora o plugin exibe uma mensagem de erro no admin caso o c√≥digo PIX esteja sendo gerado incorretamente por conta de algum problema em sua conta PagBank (geralmente porque voc√™ n√£o cadastrou a chave aleat√≥ria).
* Corre√ß√£o: o valor dos produtos era informado de forma incorreta ao PagBank quando m√∫ltiplos do mesmo item estavam presentes no pedido (embora o valor cobrado estivesse correto).

= 4.10.2 =
* Corre√ß√£o em erro no c√°lculo de parcelas. Em alguns cen√°rios, dependendo das regras de parcelamento, quando o total de parcelas sem juros era = 1, poderia ocasionar erro na pagina de produto (se as parcelas estivessem sendo exibidas la) e no dropdown de parcelamento do checkout.
* Corre√ß√µes diversas em warnings e notices em vers√µes mais novas do PHP 8.1 e 8.2 que poderiam aparecer no admin, e em algumas etapas do pedido quando modo debug estava ativo. 

= 4.10.1 =
* Corre√ß√£o de erro "get_cart was called incorrectly" era exibido quando usado em conjunto com alguns outros plugins (como Mercado Pago), em alguns casos quebrando o carrinho.
* Alteramos a forma como o uso de shortcode de parcelamento √© usado. Agora voc√™ deve habilitar ele nas configura√ß√µes. Isso evita que ele seja adicionado em duplicidade.
* Corrigido falha na compra de produto recorrente quando meios de pagamento eram configurados para ser exibidos de forma separada. A mensagem M√©todo de pagamento inv√°lido era exibida.
* Melhoramos a descri√ß√£o de alguns dos campos de configura√ß√£o de cart√£o de cr√©dito, a fim de deixar mais claro o que cada um faz e com mais links para documenta√ß√£o.


= 4.10.0 =
* Emails: agora o administrador e cliente s√≥ receber√£o e-mails notificando que um pedido foi criado se o mesmo tiver sido pago.
* Corre√ß√£o/Mudan√ßa: agora pessoas com permiss√£o de gerente de loja e administradores poder√£o ter acesso ao menu PagBank. Antes somente administradores tinham acesso.
* Agora √© poss√≠vel usar o shortcode [rm_pagbank_credit_card_installments] para exibir as parcelas de um produto em layouts personalizados.
* Corrigido Erro na exibi√ß√£o das parcelas quando op√ß√£o 'Texto com parcela m√°xima' era selecionado em alguns cen√°rios.


= 4.9.3 =
* Corre√ß√£o: quando usado em conjunto com alguns plugins, chamadas ao jQuery falhavam e impediam a finaliza√ß√£o do checkout com erros na criptografia do cart√£o, entre outras coisas.
* Corre√ß√£o: quando linhas em branco eram inseridas pelo wp-load ou um de seus arquivos/plugins, a imagem din√¢mica dos √≠cones das formas de pagamento n√£o eram exibidas corretamente.
* Corre√ß√£o: ao desativar o plugin um modal de feedback √© exibido. No entanto, se a pessoa mudasse de ideia e clicasse em Cancelar, nada acontecia.

= 4.9.2 =
* Corre√ß√£o: √≠cones muito grandes em alguns temas
* Corre√ß√£o: ao clicar em "Configurar" na lista de pagamentos (ao inv√©s de ir em PagBank > Configura√ß√µes) nenhuma altera√ß√£o feita era salva.

= 4.9.1 =
* Corre√ß√£o: quando exibir meios de pagamento de forma separada estava ativada, os meios de pagamento apareciam mesmo quando desativados.

= 4.9.0 =
* Agora √© poss√≠vel exibir os meios de pagamento de forma individual (ideal para caso voc√™ aceite outros meios de pagamento al√©m do PagBank)
* Agora quando um carrinho for recorrente (contiver produtos recorrentes PagBank), somente os meios PagBank suportados ser√£o exibidos. 

= 4.8.0 =
* Agora √© poss√≠vel exibir informa√ß√µes de parcelamento na p√°gina do produto em 3 formatos diferentes

= 4.7.2 =
* Melhoria: agora ao desativar o plugin damos a op√ß√£o de voc√™ adicionar um coment√°rio com mais detalhes sobre o motivo da desativa√ß√£o.
* Melhoria: agora exibimos um aviso no admin caso o checkout em blocos esteja em uso.

= 4.7.1 =
* Melhorias gerais no JavaScript do plugin
* Melhoria: adicionado m√©todos de criptografia no Helper do plugin. Por enquanto usado somente em um caso espec√≠fico na p√°gina de pagamento avulso (order-pay).
* Corre√ß√£o: c√°lculo de parcelas poderia falhar em alguns cen√°rios quando usado em modo Sandbox, exibindo uma op√ß√£o com mensagem "undefined...".
* Corre√ß√£o: ao fazer um pedido com pix ou boleto e navegar at√© a √°rea de meus pedidos, o cliente pode clicar em Pagar e escolher outro meio de pagamento. No entanto, pagamento com cart√£o e 3Ds n√£o funcionava nesta p√°gina. Refizemos algumas coisas para tornar isso poss√≠vel. Isso tamb√©m traz compatibilidade a plugins de autoriza√ß√£o de pedido (como Order Approval for Woocommerce). Reportado por Tiago da Tikovolpe.
* Melhoria: instala√ß√£o via composer agora sugere que habilite extens√£o openssl do PHP, a fim de ter melhor criptografia. No momento a criptografia s√≥ √© usada para o n√∫mero do pedido, na p√°gina de pagamento avulso (/order-pay).
* Melhorias: code standards

= 4.7.0 =
* Melhoria: cliente passa a receber e-mail informando que o pedido foi cancelado automaticamente ap√≥s expira√ß√£o do PIX. Sugerido por Fellipe (The Growth Space). 
* Melhoria: agora √© poss√≠vel excluir o valor frete ao dar desconto em boleto e pix, aplicando o desconto somente aos produtos. Sugerido por Fabio (Kaizen Digital). 

= 4.6.3 =
* Melhoria/Corre√ß√£o: quando determinada configuracao do php era realizada, os √≠cones dos meios de pagamento n√£o eram exibidos. Reportado por Daniel Carvalho.

= 4.6.2 =
* Adicionado suporte ao WooCommerce 6.5
* Adicionado dependencia do plugin Brazilian Market on WooCommerce, evitando erros de campos obrigat√≥rios em algumas lojas
* Pequenas melhorias de seguran√ßa (wp standards compliance)

= 4.6.1 =
* Corre√ß√£o: quando o cliente digitava um cart√£o inv√°lido ou incompleto e tentava finalizar o pedido, ocasionando falha na criptografia do cart√£o, o pedido ainda era submetido para o backend e gerando outros erros desnecess√°rios, especialmente se outros campos tamb√©m estivessem errados ou faltando. O mais cl√°ssico era o erro 40002 de encrypted_card.id incorreto.
* Corre√ß√£o: ao desativar e ativar novamente o plugin, um erro de SQL era gerado internamente devido a um bug no WordPress e uma mensagem de que o plugin teria gerado cerca de 1400 caracteres de sa√≠da inesperada durante a ativa√ß√£o era exibida no backend.

= 4.6.0 =
* Pedidos PIX agora s√£o cancelados automaticamente ap√≥s periodo de expira√ß√£o se n√£o forem pagos
* Em alguns checkouts com plugins personalizados (ex: cartflows) o CSS de nosso plugin n√£o era inserido corretamente, ocasionando quebra de layout e ignorando as cores dos √≠cones configuradas.
* Ao desativar nosso plugin, agora exibimos uma pergunta sobre o motivo da desativa√ß√£o, para que possamos melhorar o plugin.

= 4.5.0 =
* Adicionado suporte a HPOS (High-Performance Order Storage) para ambientes com este recurso ativado.
* Corre√ß√£o de problemas relacionados aos campos de endere√ßo quando HPOS est√° ativo.
* Corre√ß√£o em erro 40002 quando o campo complemento de endere√ßo n√£o foi preenchido

= 4.4.4 =
* Corre√ß√£o: em alguns cen√°rios, quando havia algum erro e o cliente tentava finalizar um pedido com cart√£o novamente, um erro 40002 em payment_method.card.encrypted era exibido
* Melhoria em mensagem espec√≠fica de erro quando o e-mail do cliente est√° incorreto


= 4.4.3 =
* Corre√ß√£o: ao tentar pagar um pedido novamente descontos de PIX ou Boleto eram re-aplicados. Reportado por Fabio (Kaizen digital) e Igor Onofri.

= 4.4.2 =
* Corre√ß√£o: ao tentar finalizar pagamentos com Boleto usando CNPJ um erro 40002 era exibido. Reportado por Patrick (ctec).

= 4.4.1 =
* Melhoria: Quando o usu√°rio come√ßava a digitar um cart√£o, o sistema detectava a bandeira como Visa, mesmo que n√£o fosse um cart√£o deste tipo. S√≥ ap√≥s o sexto d√≠gito √© que a bandeira correta era identificada. Reportado por Lucas Melo.
* Corre√ß√£o: Logo PagBank aparecia muito pequeno em dispositivos m√≥veis. Reportado por Jhonny Robson
* Corre√ß√£o: o campo de Adicionar X dias √† estimativa de frete trazia o cep da loja como placeholder. (oops) Embora pudesse causar certa confus√£o, o valor n√£o era somado (indevidamente) √† estimativa.
* Corre√ß√£o: em alguns cen√°rios de compra de Produtos Virtuais, atributos de endere√ßo de cobran√ßa n√£o eram repassados corretamente para o endere√ßo de envio, ocasionando erro na finaliza√ß√£o de compra (Bairro, Numero, etc). Reportado por Marcio Gazetta.

= 4.4.0 =
* Agora √© poss√≠vel adicionar X dias ao c√°lculo de frete (Envio F√°cil) 
* Agora √© poss√≠vel ajustar o pre√ßo do frete de forma fixa ou percentual, como desconto ou acr√©scimo (Envio F√°cil)
* Redu√ß√£o de requisi√ß√µes ajax no checkout com 3d
* Melhoria para contornar erro de credit_car_bin not found quando estamos testando em Sandbox (j√° que o PagBank n√£o atualiza os cart√µes de teste).
* Pequenos ajustes est√©ticos de c√≥digo e espa√ßamentos, e conformidade com padr√µes do PCP.
* Melhorias de seguran√ßa.
* Corre√ß√£o de erro em payment_method.authentication_method.id invalid_parameter quando alguns pagamentos em 3D com parcelamento maior que 1 parcela era finalizado.
* Corrige problema com exibi√ß√£o de validade do c√≥digo pix quando era maior que 60 minutos e menos que 1 dia. Nesses cen√°rios a validade do Pix n√£o era informada ao cliente no frontend.
* Corrigindo erro Call to undefined function wp_add_notice em alguns cen√°rios no admin.
* Melhoria em mensagens de erro de e-mail inv√°lido, nome do titular do cart√£o inv√°lido e cart√£o criptografado com problema.

= 4.3.1 =
* Corre√ß√£o em erro grave que eliminava CSS de v√°rias p√°ginas causando quebras de layout em v√°rios cen√°rios, mesmo onde o plugin n√£o era inserido (Reportado por William T. e outros). O problema foi introduzido na vers√£o 4.3.0.
* Ajustes no CSS de configuracao de cor dos icones, logo e afins
* Agora √© poss√≠vel escolher a cor dos √≠cones via admin
* Corrigido css que fazia o nome ou logo do PagBank aparecerem abaixo do radio button
* Em algumas situa√ß√µes, era prov√°vel que uma autentica√ß√£o 3D fosse rejeitada ocorrendo erro 'authentication_method.id' invalido. √â prov√°vel que isso ocorresse quando um consumidor esperasse mais de 11 minutos para preencher e concluir os dados do checkout, e somente quando um outro cliente chegou ao checkout h√° menos de 20 minutos mas n√£o concluiu uma compra (Reportado por William T.). Tamb√©m melhoramos a mensagem de erro nestes casos, recomendando atualiza√ß√£o de p√°gina.
* Melhoria na forma como os √≠cones s√£o inseridos para possibilitar personaliza√ß√£o via css (n√£o usarmos mais <img..)
* Corre√ß√£o em aviso de deprecia√ß√£o do jQuery .change (embora isso n√£o afetava o funcionamento do plugin)
* Ao inv√©s de mostrar JOS√â DA SILVA como placeholder do campo de titular de cart√£o, agora exibimos "como gravado no cart√£o", e o nome sempre ser√° em caixa alta
* √çcones de pagamento podem ter ficado maior em alguns checkouts. Instru√ß√µes para personaliza√ß√£o foram adicionados ao admin.

= 4.3.0 =
* Adicionado suporte a venda recorrente (clube de assinatura) sem depender de outros plugins

= 4.2.14 =
* Corre√ß√£o: dependendo do valor total do pedido, quando a autentica√ß√£o 3d estava ativada, o erro 'amount.value must be an integer' era exibido
* Melhoria: pequeno ajuste na mensagem de erro acima
* Melhoria: algumas atualiza√ß√µes do plugin n√£o surtiam efeito para alguns usu√°rios devido a cache for√ßado do navegador ou configura√ß√£o de outros plugins

= 4.2.13 =
* Corre√ß√£o: Parametro inv√°lido (payment_method.card.encrypted) era exibido em alguns cen√°rios, impedindo a finaliza√ß√£o da compra.
* Corre√ß√£o: tags html eram exibidas nas configura√ß√µes do Envio Facil no admin. N√£o afetava o funcionamento, mas era feio. :)
* Melhoria: na ferramenta de diagn√≥stico, para exibir configura√ß√µes de 3d secure

= 4.2.12 =
* Corre√ß√£o/Melhoria: quando usado em conjunto com alguns plugins, em alguns casos n√£o era exibido na lista de meios de pagamento dispon√≠veis, e as configura√ß√µes do plugin n√£o eram carregadas. (Reportado por Leonardo)

= 4.2.11 =
* Corre√ß√£o: imagem e c√≥digos pix e boleto n√£o eram exibidos se recurso de High-performance order storage (HPOS) estivesse ativado

= 4.2.10 =
* Corre√ß√£o: compras com CNPJ exibiam erro 40002. (Reportado por Therus)

= 4.2.9 =
* Re-corre√ß√£o do problema anterior. Algo deu errado na publica√ß√£o.

= 4.2.8 =
* Corre√ß√£o: ap√≥s 4.2.6, ao desabilitar o 3d secure, o cart√£o de cr√©dito deixava de ser exibido no checkout. (Reportado por Junior Marins)

= 4.2.7 =
* Corre√ß√£o: Erro era exibido no admin ap√≥s √∫ltima atualiza√ß√£o. :O (Fatal error: Uncaught Error: Call to a member function get_total() on null) 

= 4.2.6 =
* Melhoria: PagBank deixa de ser exibido se valor total do pedido for menor que R$1,00, evitando erro 40002 charges[0].amount.value is invalid. PagBank n√£o aceita pedidos abaixo deste valor.
* Corre√ß√£o: Sempre us√°vamos kg como medida de peso para c√°lculo do envio f√°cil, fazendo com que lojas que configuraram o peso em outra medida tivesse o c√°lculo incorreto (geralmente n√£o devolvendo nenhuma cota√ß√£o).
* Corre√ß√£o: quando um cliente decide pagar um pedido posteriormente indo em Minha conta > Pedidos > Pagar, o dropdown de parcelas do cart√£o n√£o carregava como esperado. (Reportado por Therus)
* Corre√ß√£o: em warning logado (undefined index $active['boleto'] e $active['pix']
* Corre√ß√£o: exce√ß√£o era gerada se a API do 3D Secure estiver fora do ar e o recurso ativo.
* Melhoria: caso a op√ß√£o de 3D Secure esteja ativo, mas a API 3D estiver fora do ar, o cart√£o de cr√©dito n√£o ser√° exibido para o cliente caso a op√ß√£o de "Permitir concluir" n√£o estiver marcada. Nestes casos, um aviso ser√° exibido pedindo que recarregue a p√°gina. (Reportado por Martin)


= 4.2.5 =
* Corre√ß√£o: em vers√µes antigas do WooCommerce (ex: 6.4), em pedidos com cartao, o checkout era recarregado ao tentar finalizar compra, sem concluir o pedido. (#2)
* Melhorias e refatoracao no JS de cart√£o de cr√©dito, que agora n√£o √© mais inserido na p√°gina de sucesso desnecessariamente.
* Mais melhorias em poss√≠veis mensagens de erro no retorno de valida√ß√µes 3DSecure.
* Mais ajustes pequenos em tradu√ß√µes, solicitados pela equipe do WordPress

= 4.2.2 =
* Ajustes diversos para compatibilidade com requisitos do WP Marketplace
* Corrigido problema onde, em alguns cen√°rios, logo ap√≥s desativar a autentica√ß√£o 3D, o plugin ainda tentava autenticar usando este m√©todo e gerando erro

= 4.2.1 =
* Pequenos ajustes de compatibilidade para estar de acordo com os requisitos do marketplace do WP Marketplace

= 4.2.0 =
* Adicionado suporte a autentica√ß√£o 3D Secure, reduzindo drasticamente seus custos com chargebacks, e aumentando significativamente a taxa de aprova√ß√£o.
* Passamos a cachear algumas chamadas repetidas, aumentando significativamente a performance do processo de checkout.

= 4.1.5 =
* Corrigido problema no carregamento inicial de parcelas. Uma mudan√ßa no PagBank fez com que as parcelas iniciais n√£o fossem carregadas at√© que o cliente informasse o n√∫mero do cart√£o.

= 4.1.3 =
* Corrigido problema que ocorria em alguns checkouts (ex: FunnelKit) onde, ao atualizar o meio de frete, o valor da parcela do cart√£o n√£o era atualizado corretamente. Reportado por Philippe.

= 4.1.2 =
* Corrigido problema onde EnvioFacil n√£o era suportado em aplica√ß√µes autorizadas no modelo de recebimento em 30 dias (Reportado por Ligia Salzano)

= 4.1.1 =
* Corrigido problema de erro com unit.amount nos casos onde um ou mais produtos com valor zero est√° presente
* Administrador da loja agora recebe e-mail de novo pedido

= 4.1.0 =
* Mensagens mais amig√°veis de erro ajudam o cliente a saber que par√¢metro precisa ser corrigido
* Agora h√° op√ß√£o de [ocultar o endere√ßo de entrega](https://pagsegurotransparente.zendesk.com/hc/pt-br/articles/20835022998029), evitando erros de valida√ß√£o de endere√ßo em v√°rios cen√°rios.

= 4.0.0 =
* Lan√ßamento da primeira vers√£o Connect, com suporte a PIX, Cart√£o de cr√©dito, e Boleto.

== Upgrade Notice ==
Ao atualizar nosso plugin, voc√™ se protege contra falhas de funcionamento e seguran√ßa e aumenta suas chances de convers√£o no momento mais importante do ciclo de vendas.

Ao atualizar vers√µes majorit√°rias (ex: 3.5 para 4.0), certifique-se de testar rigorosamente sua integra√ß√£o, pois mudan√ßas deste tipo tendem a trazer incompatibilidades entre vers√µes.

== Screenshots ==
1. Cart√£o de Cr√©dito na vis√£o do cliente
2. PIX - Tela de Sucesso
3. Configura√ß√µes de cart√£o de cr√©dito
4. PIX e Boleto - Configura√ß√µes
5. Admin - Tela do Pedido
6. Envio F√°cil
7. Autentica√ß√£o 3D Secure
8. Pedidos Recorrentes (assinaturas)
